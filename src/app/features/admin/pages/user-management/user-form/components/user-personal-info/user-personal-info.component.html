<div class="form-container mt-1" [formGroup]="userForm">
  <!-- First row -->
  <div class="form-row">
    <div class="form-group">
      <label for="first-name">
        {{
          (isEditMode ? "EditUser.FIRST_NAME" : "AddUser.FIRST_NAME")
            | translate
        }}
      </label>
      <input
        type="text"
        id="first-name"
        [placeholder]="
          (isEditMode ? 'EditUser.FIRST_NAME' : 'AddUser.FIRST_NAME')
            | translate
        "
        formControlName="firstName"
      />
      <div *ngIf="isInvalid('firstName')" class="validation-message">
        <div *ngIf="userForm.get('firstName')?.hasError('required')">
          {{
            (isEditMode
              ? "EditUser.FIRST_NAME_REQUIRED"
              : "AddUser.FIRST_NAME_REQUIRED"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('firstName')?.hasError('minlength')">
          {{
            (isEditMode
              ? "EditUser.FIRST_NAME_MIN_LENGTH"
              : "AddUser.FIRST_NAME_MIN_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('firstName')?.hasError('maxlength')">
          {{
            (isEditMode
              ? "EditUser.FIRST_NAME_MAX_LENGTH"
              : "AddUser.FIRST_NAME_MAX_LENGTH"
            ) | translate
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="last-name">
        {{
          (isEditMode ? "EditUser.LAST_NAME" : "AddUser.LAST_NAME") | translate
        }}
      </label>
      <input
        type="text"
        id="last-name"
        [placeholder]="
          (isEditMode ? 'EditUser.LAST_NAME' : 'AddUser.LAST_NAME') | translate
        "
        formControlName="lastName"
      />
      <div *ngIf="isInvalid('lastName')" class="validation-message">
        <div *ngIf="userForm.get('lastName')?.hasError('required')">
          {{
            (isEditMode
              ? "EditUser.LAST_NAME_REQUIRED"
              : "AddUser.LAST_NAME_REQUIRED"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('lastName')?.hasError('minlength')">
          {{
            (isEditMode
              ? "EditUser.LAST_NAME_MIN_LENGTH"
              : "AddUser.LAST_NAME_MIN_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('lastName')?.hasError('maxlength')">
          {{
            (isEditMode
              ? "EditUser.LAST_NAME_MAX_LENGTH"
              : "AddUser.LAST_NAME_MAX_LENGTH"
            ) | translate
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="username">
        {{
          (isEditMode ? "EditUser.USERNAME" : "AddUser.USERNAME") | translate
        }}
      </label>
      <input
        type="text"
        id="username"
        [placeholder]="
          (isEditMode ? 'EditUser.USERNAME' : 'AddUser.USERNAME') | translate
        "
        formControlName="userName"
      />
      <div *ngIf="isInvalid('userName')" class="validation-message">
        <div *ngIf="userForm.get('userName')?.hasError('required')">
          {{
            (isEditMode
              ? "EditUser.USERNAME_REQUIRED"
              : "AddUser.USERNAME_REQUIRED"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('userName')?.hasError('minlength')">
          {{
            (isEditMode
              ? "EditUser.USERNAME_MIN_LENGTH"
              : "AddUser.USERNAME_MIN_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('userName')?.hasError('maxlength')">
          {{
            (isEditMode
              ? "EditUser.USERNAME_MAX_LENGTH"
              : "AddUser.USERNAME_MAX_LENGTH"
            ) | translate
          }}
        </div>
      </div>
    </div>
  </div>

  <!-- Second row -->
  <div class="form-row">
    <div class="form-group">
      <label for="phone-number">
        {{
          (isEditMode ? "EditUser.PHONE_NUMBER" : "AddUser.PHONE_NUMBER")
            | translate
        }}
      </label>
      <input
        type="text"
        id="phone-number"
        [placeholder]="
          (isEditMode ? 'EditUser.PHONE_NUMBER' : 'AddUser.PHONE_NUMBER')
            | translate
        "
        formControlName="phoneNumber"
        inputmode="numeric"
      />
      <div *ngIf="isInvalid('phoneNumber')" class="validation-message">
        <div *ngIf="userForm.get('phoneNumber')?.hasError('required')">
          {{
            (isEditMode ? "EditUser.PHONE_REQUIRED" : "AddUser.PHONE_REQUIRED")
              | translate
          }}
        </div>
        <div *ngIf="userForm.get('phoneNumber')?.hasError('minlength')">
          {{
            (isEditMode
              ? "EditUser.PHONE_MIN_LENGTH"
              : "AddUser.PHONE_MIN_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('phoneNumber')?.hasError('maxlength')">
          {{
            (isEditMode
              ? "EditUser.PHONE_MAX_LENGTH"
              : "AddUser.PHONE_MAX_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('phoneNumber')?.hasError('pattern')">
          {{
            (isEditMode ? "EditUser.PHONE_PATTERN" : "AddUser.PHONE_PATTERN")
              | translate
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">
        {{ (isEditMode ? "EditUser.EMAIL" : "AddUser.EMAIL") | translate }}
      </label>
      <input
        type="email"
        id="email"
        [placeholder]="
          (isEditMode ? 'EditUser.EMAIL' : 'AddUser.EMAIL') | translate
        "
        formControlName="email"
      />
      <div *ngIf="isInvalid('email')" class="validation-message">
        <div *ngIf="userForm.get('email')?.hasError('required')">
          {{
            (isEditMode ? "EditUser.EMAIL_REQUIRED" : "AddUser.EMAIL_REQUIRED")
              | translate
          }}
        </div>
        <div *ngIf="userForm.get('email')?.hasError('email')">
          {{
            (isEditMode ? "EditUser.EMAIL_INVALID" : "AddUser.EMAIL_INVALID")
              | translate
          }}
        </div>
        <div *ngIf="userForm.get('email')?.hasError('pattern')">
          {{
            (isEditMode ? "EditUser.EMAIL_PATTERN" : "AddUser.EMAIL_PATTERN")
              | translate
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="id-number">
        {{
          (isEditMode ? "EditUser.ID_NUMBER" : "AddUser.ID_NUMBER") | translate
        }}
      </label>
      <input
        type="text"
        id="id-number"
        [placeholder]="
          (isEditMode ? 'EditUser.ID_NUMBER' : 'AddUser.ID_NUMBER') | translate
        "
        formControlName="idNumber"
      />
      <div *ngIf="isInvalid('idNumber')" class="validation-message">
        <div *ngIf="userForm.get('idNumber')?.hasError('required')">
          {{
            (isEditMode
              ? "EditUser.ID_NUMBER_REQUIRED"
              : "AddUser.ID_NUMBER_REQUIRED"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('idNumber')?.hasError('minlength')">
          {{
            (isEditMode
              ? "EditUser.ID_NUMBER_MIN_LENGTH"
              : "AddUser.ID_NUMBER_MIN_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('idNumber')?.hasError('maxlength')">
          {{
            (isEditMode
              ? "EditUser.ID_NUMBER_MAX_LENGTH"
              : "AddUser.ID_NUMBER_MAX_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('idNumber')?.hasError('pattern')">
          {{
            (isEditMode
              ? "EditUser.ID_NUMBER_PATTERN"
              : "AddUser.ID_NUMBER_PATTERN"
            ) | translate
          }}
        </div>
      </div>
    </div>
  </div>

  <!-- Third row -->
  <div class="form-row">
    <div class="form-group">
      <label for="birth-date">
        {{
          (isEditMode ? "EditUser.BIRTH_DATE" : "AddUser.BIRTH_DATE")
            | translate
        }}
      </label>
      <input
        type="date"
        id="birth-date"
        formControlName="birthdate"
        [max]="today"
      />
      <div *ngIf="isInvalid('birthdate')" class="validation-message">
        <div *ngIf="userForm.get('birthdate')?.hasError('required')">
          {{
            (isEditMode
              ? "EditUser.BIRTH_DATE_REQUIRED"
              : "AddUser.BIRTH_DATE_REQUIRED"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('birthdate')?.hasError('futureDate')">
          {{
            (isEditMode
              ? "EditUser.BIRTH_DATE_FUTURE"
              : "AddUser.BIRTH_DATE_FUTURE"
            ) | translate
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="password">
        {{
          (isEditMode ? "EditUser.PASSWORD" : "AddUser.PASSWORD") | translate
        }}
        <span *ngIf="!isEditMode" class="required-asterisk">*</span>
        <span *ngIf="isEditMode" class="optional-text">
          ({{ "EditUser.OPTIONAL" | translate }})
        </span>
      </label>
      <div class="password-input-container">
        <input
          [type]="showPassword ? 'text' : 'password'"
          id="password"
          [placeholder]="
            (isEditMode ? 'EditUser.PASSWORD' : 'AddUser.PASSWORD') | translate
          "
          formControlName="password"
        />
        <span class="toggle-password" (click)="onShowPasswordToggle()">
          <i [class]="showPassword ? 'fa fa-eye' : 'fa fa-eye-slash'"></i>
        </span>
      </div>
      <div *ngIf="isInvalid('password')" class="validation-message">
        <div *ngIf="userForm.get('password')?.hasError('required')">
          {{
            (isEditMode
              ? "EditUser.PASSWORD_REQUIRED"
              : "AddUser.PASSWORD_REQUIRED"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('password')?.hasError('minlength')">
          {{
            (isEditMode
              ? "EditUser.PASSWORD_MIN_LENGTH"
              : "AddUser.PASSWORD_MIN_LENGTH"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('password')?.hasError('pattern')">
          {{
            (isEditMode
              ? "EditUser.PASSWORD_PATTERN"
              : "AddUser.PASSWORD_PATTERN"
            ) | translate
          }}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="confirm-password">
        {{
          (isEditMode
            ? "EditUser.CONFIRM_PASSWORD"
            : "AddUser.CONFIRM_PASSWORD"
          ) | translate
        }}
      </label>
      <div class="password-input-container">
        <input
          [type]="showConfirmPassword ? 'text' : 'password'"
          id="confirm-password"
          [placeholder]="
            (isEditMode
              ? 'EditUser.CONFIRM_PASSWORD'
              : 'AddUser.CONFIRM_PASSWORD'
            ) | translate
          "
          formControlName="passwordConfirmation"
        />
        <span class="toggle-password" (click)="onShowConfirmPasswordToggle()">
          <i
            [class]="showConfirmPassword ? 'fa fa-eye' : 'fa fa-eye-slash'"
          ></i>
        </span>
      </div>
      <div *ngIf="isInvalid('passwordConfirmation')" class="validation-message">
        <div *ngIf="userForm.get('passwordConfirmation')?.hasError('required')">
          {{
            (isEditMode
              ? "EditUser.CONFIRM_PASSWORD_REQUIRED"
              : "AddUser.CONFIRM_PASSWORD_REQUIRED"
            ) | translate
          }}
        </div>
        <div *ngIf="userForm.get('passwordConfirmation')?.hasError('mismatch')">
          {{
            (isEditMode
              ? "EditUser.PASSWORDS_MISMATCH"
              : "AddUser.PASSWORDS_MISMATCH"
            ) | translate
          }}
        </div>
      </div>
    </div>
  </div>
</div>
