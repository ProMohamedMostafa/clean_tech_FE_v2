<!-- Add Modal -->
<div
  class="modal fade"
  id="addModal"
  tabindex="-1"
  aria-labelledby="addModalLabel"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  dir="ltr"
>
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <div class="title-container">
          <div class="title-bage"></div>
          <div class="title-info">
            <h1>{{ "MATERIAL.MODAL.ADD.TITLE" | translate }}</h1>
          </div>
        </div>
        <button
          type="button"
          class="btn-close"
          (click)="closeModal()"
          [attr.aria-label]="'MATERIAL.MODAL.CLOSE' | translate"
        ></button>
      </div>

      <div class="modal-body">
        @if (successMessage) {
        <div class="alert alert-success">
          {{ successMessage }}
        </div>
        }

        <div class="mb-3">
          <label for="quantityInput" class="form-label">
            <i class="bi bi-box"></i>
            {{ "MATERIAL.MODAL.ADD.QUANTITY" | translate }}
          </label>
          <input
            type="number"
            id="quantityInput"
            class="form-control"
            [(ngModel)]="addnewMaterial.Quantity"
            min="1"
            required
          />
        </div>

        <div class="mb-3">
          <label for="providerSelect" class="form-label">
            <i class="bi bi-people"></i>
            {{ "MATERIAL.MODAL.PROVIDER" | translate }}
          </label>
          <select
            id="providerSelect"
            class="form-select"
            [(ngModel)]="addnewMaterial.ProviderId"
            required
          >
            <option value="0" disabled selected>
              {{ "MATERIAL.MODAL.SELECT_PROVIDER" | translate }}
            </option>
            @for (provider of providers; track provider.id) {
            <option [value]="provider.id">
              {{ provider.name }}
            </option>
            }
          </select>
        </div>

        <div class="mb-3">
          <label for="priceInput" class="form-label">
            <i class="bi bi-cash"></i> {{ "MATERIAL.MODAL.PRICE" | translate }}
          </label>
          <input
            type="number"
            id="priceInput"
            class="form-control"
            [(ngModel)]="addnewMaterial.Price"
            min="0"
            step="0.01"
            required
          />
        </div>

        <div class="mb-3">
          <label for="fileInput" class="form-label">
            <i class="bi bi-file-earmark-arrow-up"></i>
            {{ "MATERIAL.MODAL.UPLOAD_FILE" | translate }}
          </label>
          <input
            type="file"
            id="fileInput"
            class="form-control"
            (change)="onFileSelected($event)"
          />
          @if (selectedFileName) {
          <small class="text-muted">{{ selectedFileName }}</small>
          }
        </div>
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button
          type="button"
          class="btn add-modal-btn"
          (click)="submitForm()"
          [disabled]="!isFormValid()"
        >
          {{ "MATERIAL.MODAL.ADD.BUTTON" | translate }}
        </button>
        <button
          type="button"
          class="btn btn-secondary me-2"
          (click)="closeModal()"
        >
          {{ "COMMON.CANCEL" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
